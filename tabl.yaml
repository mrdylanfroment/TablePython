job:
  id: simple_table
  description: "A parametric table with 4 legs"

  parameters:
    table:
      width: 1200      # X dimension
      depth: 700       # Y dimension
      height: 750      # Z dimension

    leg:
      width: 50
      depth: 50
      height: "!{table.height - tabletop.thickness}"

    tabletop:
      thickness: 30

  products:
    - name: table
      description: "Simple 4-leg table"
      components:

        - name: frontLeftLeg
          type: leg
          dimensions:
            width: "!{leg.width}"
            depth: "!{leg.depth}"
            height: "!{leg.height}"
          transform:
            translate:
              x: 0
              y: 0
              z: 0

        - name: frontRightLeg
          type: leg
          dimensions:
            width: "!{leg.width}"
            depth: "!{leg.depth}"
            height: "!{leg.height}"
          transform:
            translate:
              x: "!{table.width - leg.width}"
              y: 0
              z: 0

        - name: backLeftLeg
          type: leg
          dimensions:
            width: "!{leg.width}"
            depth: "!{leg.depth}"
            height: "!{leg.height}"
          transform:
            translate:
              x: 0
              y: "!{table.depth - leg.depth}"
              z: 0

        - name: backRightLeg
          type: leg
          dimensions:
            width: "!{leg.width}"
            depth: "!{leg.depth}"
            height: "!{leg.height}"
          transform:
            translate:
              x: "!{table.width - leg.width}"
              y: "!{table.depth - leg.depth}"
              z: 0

        - name: tabletop
          type: top
          dimensions:
            width: "!{table.width}"
            depth: "!{table.depth}"
            thickness: "!{tabletop.thickness}"
          transform:
            translate:
              x: 0
              y: 0
              z: "!{table.height - tabletop.thickness}"
